!function(){let t=document.querySelector(".list"),e=e=>{let n=e.map(t=>`        <li id="${t.id}">
            <img src="${t.photo}" alt="${t.title}">
            <h2>${t.title}</h2>
            <span>${t.price}</span>
            <button class="openUpdateButton" type="button">\u{420}\u{435}\u{434}\u{430}\u{433}\u{443}\u{432}\u{430}\u{442}\u{438}</button>
            <button class="delet" type="button">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button>
        </li>`).join("");t.insertAdjacentHTML("beforeend",n)},n=async t=>{try{let e={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}};return await fetch("https://67a8ab426e9548e44fc1adc4.mockapi.io/fruits/products",e).then(t=>t.json())}catch(t){return t}},a=document.querySelector(".openAddButton"),o=document.querySelector(".addForm"),u=document.querySelector(".addModal");a.addEventListener("click",function(){u.classList.remove("is-hidden")}),o.addEventListener("submit",function(t){t.preventDefault(),u.classList.add("is-hidden"),n({title:t.target.elements.nameInput.value,price:t.target.elements.priceInput.value,photo:t.target.elements.photoInput.value})});let c=async t=>{try{return await fetch(`https://67a8ab426e9548e44fc1adc4.mockapi.io/fruits/products?page=${t}&limit=2`).then(t=>t.json())}catch(t){return t}},r=async(t,e)=>{try{let n={method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}};return await fetch(`https://67a8ab426e9548e44fc1adc4.mockapi.io/fruits/products/${e}`,n).then(t=>t.json())}catch(t){return t}},i=async t=>{try{return await fetch(`https://67a8ab426e9548e44fc1adc4.mockapi.io/fruits/products/${t}`,{method:"DELETE"}).then(t=>t.json())}catch(t){return t}},d=function(t){let n=t.target.parentNode.id;t.target.classList.contains("openUpdateButton")||(i(n).then(t=>{}),c().then(t=>{e(t)}))},s=document.querySelector(".updateModal"),l=async(t,e)=>{t.preventDefault(),await r(e,e.id),await y(),s.classList.add("is-hidden")},p=document.querySelector(".updateForm"),h=document.querySelector(".updateModal"),m=function(t){let e=t.target.parentNode,n=e.id;console.log(e.id),t.target.classList.contains("delet")||(h.classList.remove("is-hidden"),p.addEventListener("submit",t=>{let e={title:t.target.elements.updateNameInput.value,photo:t.target.elements.updatePhotoInput.value,price:t.target.elements.updatePriceInput.value,id:n};l(t,e)}))},y=t=>{c(t).then(t=>{e(t),document.querySelector(".list").addEventListener("click",d),document.querySelector(".list").addEventListener("click",m)})},f=document.querySelector(".moreFruit"),v=1;f.addEventListener("click",()=>{y(v+=1)}),y(v)}();
//# sourceMappingURL=index.2a161a27.js.map
